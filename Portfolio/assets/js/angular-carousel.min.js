/**
 * @license AngularJS v1.1.1
 * (c) 2015 Lifely
 * License: MIT
 */
angular.module("angular-carousel",[]).factory("Carousel",function(){var a={};a.instances={},a.add=function(c,d,e){if(d=d||!1,!d)return"Error: no carousel name specified";c=c||0;var f=a.instances[d]||!1;if(f)return"Error: carousel instance already exists";var g=new b(c,e);return a.instances[d]=g,g},a.get=function(b){var c=a.instances[b]||!1;return c?c:"Error: carousel with name '"+b+"' does not exist"},a.remove=function(b){delete a.instances[b]};var b=function(a,b){var c=this;this.slidesCount=a,this.currentSlide=0,this.onSlideChangeCallbacks=[],this.toIndex=function(a,d){d=d||!1,this.currentSlide=a%this.slidesCount,angular.forEach(this.onSlideChangeCallbacks,function(a){"function"==typeof a&&a(c.currentSlide,d)}),setTimeout(function(){b.$apply()},0)},this.next=function(){var a=this.currentSlide+1,b=!1;return a>this.slidesCount-1&&(a=0,b="right"),this.toIndex(a,b),a},this.previous=function(){var a=this.currentSlide-1,b=!1;return 0>a&&(a=this.slidesCount-1,b="left"),this.toIndex(a,b),a},this.onSlideChange=function(a){return this.onSlideChangeCallbacks.push(a),this.onSlideChangeCallbacks.indexOf(a)},this.unbindOnSlideChangeCallback=function(a){"undefined"!=typeof this.onSlideChangeCallbacks[a]&&this.onSlideChangeCallbacks.splice(a,1)}};return a}).directive("ngCarousel",["Carousel","$compile","$document","$timeout",function(a,b,c,d){function e(){return"ontouchstart"in document.documentElement}var f=25;return{restrict:"AE",replace:!0,scope:{ngCarouselWatch:"="},link:function(b,g,h){var i=!1,j=!1,k=!1,l="";i="undefined"!=typeof h.ngCarouselTimer&&parseInt(h.ngCarouselTimer,10)>0?parseInt(h.ngCarouselTimer,10):!1,k="undefined"!=typeof h.ngCarouselRandom;var m,n,o,p,q,r,l,s=function(){g.addClass("ng-carousel"),g.addClass(e()?"carousel-touch":"carousel-no-touch"),q=g.find("slidecontainer");var c=!1,d=!1;l&&(c=a.get(l).currentSlide,d=a.get(l).onSlideChangeCallbacks,a.remove(l));var f=function(){var a=angular.element(g[0].querySelectorAll(".carousel-slide-copy"));a.length>0&&a.remove()};if(f(),m=g.find("slide"),m.length>0){l=h.ngCarouselName,n=a.add(m.length,h.ngCarouselName,b),angular.forEach(d,function(a){n.onSlideChange(a),n.unbindOnSlideChangeCallback(0)});var j=function(){f(),m=g.find("slide"),o=angular.element(m[0].outerHTML),p=angular.element(m[m.length-1].outerHTML),o.addClass("carousel-slide-copy"),p.addClass("carousel-slide-copy"),q.append(o),q.prepend(p),q.addClass("carousel-ignore-first-slide")};j();var s=function(a,b){var c=a+1;"left"===b?c=0:"right"===b&&(c=m.length+1),u(c,!0,function(){"left"===b?u(m.length,!1):"right"===b&&u(1,!1)}),t(),j()};if(n.onSlideChange(s),c!==!1&&n.currentSlide!==c&&(s(n.currentSlide,!1),n.toIndex(c)),k){var v=Math.floor(Math.random()*n.slidesCount);n.toIndex(v)}i&&n.slidesCount>=2&&t()}else console.log("ng-carousel error: No slides found");q[0]?(r=new Hammer.Manager(q[0]),r.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:0})),r.on("panleft panright",function(a){a.isFinal||x(a.deltaX)})):console.log("ng-carousel error: No slidecontainer found")},t=function(){!i||n.slidesCount<2||(j&&d.cancel(j),j=d(function(){n.next()},i))},u=function(a,b,c){b?q.addClass("carousel-animate"):q.removeClass("carousel-animate");var d="translate(-"+100*a+"%, 0)";q.css({"-webkit-transform":d,"-moz-transform":d,"-ms-transform":d,"-o-transform":d,transform:d}),b&&q.on("transitionend oTransitionEnd webkitTransitionEnd",function(){"function"==typeof c&&c(),q.off("transitionend oTransitionEnd webkitTransitionEnd"),u(n.currentSlide+1,!1)})},v=0,w=0,x=function(a){v=a/w,v=v>1?1:-1>v?-1:v,u(n.currentSlide+1-v,!1)},y=function(){w=q[0].offsetWidth},z=function(){Math.abs(v)>f/100?(v>0?n.previous():n.next(),v=0):(v>0||0>v)&&u(n.currentSlide+1,!0,function(){v=0})},A=e()?"touchstart":"mousedown",B=e()?"touchend":"mouseup";c.on(A,y),c.on(B,z),g.on("mouseover",function(){j&&d.cancel(j)}),g.on("mouseout",t);var C=d(s,0);"undefined"!=typeof h.ngCarouselWatch&&b.$watch("ngCarouselWatch",function(){d(s)},!0),b.$on("$destroy",function(){d.cancel(C),g.off("mouseover mouseout"),c.off(A),c.off(B),q.off("transitionend oTransitionEnd webkitTransitionEnd"),n.onSlideChangeCallbacks=[],a.remove(l)})}}}]);